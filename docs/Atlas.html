<!doctypehtml><html lang=en><head><meta charset=UTF-8><title>Atlas with Load Bar</title><meta content="width=device-width,initial-scale=1,user-scalable=no"name=viewport><style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background-color:#000}#canvas{display:block;width:100%;height:100%;touch-action:none;-ms-touch-action:none}#loadingOverlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}#loadingText{color:#fff;font-family:sans-serif;margin-bottom:1em}#progressBarContainer{width:300px;height:20px;background-color:#333;border-radius:10px;overflow:hidden}#progressBarFill{width:0%;height:100%;background-color:#fff;transition:width .2s ease}</style><script>document.addEventListener("contextmenu",(function(e){e.preventDefault()}))</script></head><body><div id=loadingOverlay><div id=loadingText>Loading files, please wait...</div><div id=progressBarContainer><div id=progressBarFill></div></div></div><canvas id=canvas></canvas><script async src=Atlas.js></script><script>function updateProgressBar(e,t){const n=e/t*100;document.getElementById("progressBarFill").style.width=n+"%"}function hideLoadingOverlay(){const e=document.getElementById("loadingOverlay");e&&(e.style.display="none")}async function fetchAndStoreInFS(e){const t=await fetch(e);if(!t.ok)throw new Error("HTTP error, status = "+t.status);const n=await t.arrayBuffer();return FS.writeFile(e,new Uint8Array(n)),!0}var Module={canvas:function(){var e=document.getElementById("canvas");return e.width=window.innerWidth,e.height=window.innerHeight,e}(),onRuntimeInitialized:async function(){const e=await fetch("filelist.txt");if(!e.ok)return void alert("Failed to load filelist.txt");const t=(await e.text()).split(/\r?\n/).map((e=>e.trim())).filter((e=>e.length>0));let n=0;const a=t.length,i=t.map((e=>fetchAndStoreInFS(e).then((()=>{n+=1,updateProgressBar(n,a)})).catch((t=>console.error("Failed to load file: ",e,t)))));await Promise.all(i),hideLoadingOverlay(),window.addEventListener("resize",(function(){Module.canvas.width=window.innerWidth,Module.canvas.height=window.innerHeight})),Module.canvas.addEventListener("touchstart",(e=>e.preventDefault()),{passive:!1}),Module.canvas.addEventListener("touchmove",(e=>e.preventDefault()),{passive:!1}),Module.canvas.addEventListener("touchend",(e=>e.preventDefault()),{passive:!1}),Module.canvas.addEventListener("touchcancel",(e=>e.preventDefault()),{passive:!1}),ccall("start",null,[],[])},print:function(e){console.log(e)},printErr:function(e){console.error(e)}}</script></body></html>