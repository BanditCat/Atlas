<!doctypehtml><html lang=en><head><meta charset=UTF-8><title>The Atlas Programming Language</title><meta content="width=device-width,initial-scale=1,user-scalable=no"name=viewport><style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background-color:#000}#canvas{display:block;-ms-touch-action:none}#loadingOverlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}#loadingText{color:#fff;font-family:sans-serif;margin-bottom:1em}#progressBarContainer{width:300px;height:20px;background-color:#333;border-radius:10px;overflow:hidden}#progressBarFill{width:0%;height:100%;background-color:#fff;transition:width .2s ease}</style><script>document.addEventListener("contextmenu",(function(e){e.preventDefault()}))</script></head><body><div id=loadingOverlay><div id=loadingText>Loading files, please wait...</div><div id=progressBarContainer><div id=progressBarFill></div></div></div><canvas id=canvas></canvas><script async src=Atlas.js></script><script>function updateProgressBar(e,n){const t=e/n*100;document.getElementById("progressBarFill").style.width=t+"%"}function hideLoadingOverlay(){const e=document.getElementById("loadingOverlay");e&&(e.style.display="none")}async function fetchAndStoreInFS(e){const n=await fetch(e);if(!n.ok)throw new Error("HTTP error, status = "+n.status);const t=await n.arrayBuffer();return FS.writeFile(e,new Uint8Array(t)),!0}var Module={canvas:function(){var e=document.getElementById("canvas");return e.width=window.innerWidth,e.height=window.innerHeight,e}(),onRuntimeInitialized:async function(){window.addEventListener("keydown",(function(e){!e.ctrlKey&&!e.metaKey||"v"!==e.key&&"V"!==e.key||(console.log("Ctrl+V detected in Capture Phase"),navigator.clipboard.readText().then((e=>{if(e){var n=lengthBytesUTF8(e)+1,t=_malloc(n);stringToUTF8(e,t,n),Module.ccall("on_paste_received",null,["number"],[t]),Module._free(t)}})).catch((e=>{console.error("Async read failed, waiting for standard paste event",e)})))}),!0);const e=await fetch("filelist.txt");if(!e.ok)return void alert("Failed to load filelist.txt");const n=(await e.text()).split(/\r?\n/).map((e=>e.trim())).filter((e=>e.length>0));let t=0;const i=n.length,a=n.map((e=>fetchAndStoreInFS(e).then((()=>{t+=1,updateProgressBar(t,i)})).catch((n=>console.error("Failed to load file: ",e,n)))));await Promise.all(a),hideLoadingOverlay(),window.addEventListener("resize",(function(){Module.canvas.width=window.innerWidth,Module.canvas.height=window.innerHeight,Module.ccall("resizeWindow",null,["number","number"],[window.innerWidth,window.innerHeight])})),Module.canvas.addEventListener("touchstart",(e=>e.preventDefault()),{passive:!1}),Module.canvas.addEventListener("touchmove",(e=>e.preventDefault()),{passive:!1}),Module.canvas.addEventListener("touchend",(e=>e.preventDefault()),{passive:!1}),Module.canvas.addEventListener("touchcancel",(e=>e.preventDefault()),{passive:!1}),Module.ccall("resizeWindow",null,["number","number"],[window.innerWidth,window.innerHeight]),ccall("start",null,[],[])},print:function(e){console.log(e)},printErr:function(e){console.error(e)}}</script></body></html>