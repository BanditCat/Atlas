<!doctypehtml><html lang=en><head><meta charset=UTF-8><title>Atlas</title><meta content="width=device-width,initial-scale=1,user-scalable=no"name=viewport><style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background-color:#000}#canvas{display:block;width:100%;height:100%}#hidden-input{position:absolute;opacity:0;pointer-events:none;z-index:-1}</style><script>document.addEventListener("contextmenu",(function(e){e.preventDefault()}))</script></head><body><canvas id=canvas></canvas><input autocapitalize=off autocomplete=off autocorrect=off id=hidden-input inputmode=text spellcheck=false><script async src=index.js></script><script>function showKeyboard() {
            // Focus the hidden input to trigger the virtual keyboard
            var input = document.getElementById('hidden-input');
            input.focus();

            // Optionally, clear the input's value to ensure clean key capture
            input.value = "";
        }
	canvas.addEventListener('touchstart', (event) => {
            event.preventDefault(); // Prevent default touch behavior
            showKeyboard(); // Show the keyboard
        });
        // Configure the Module object before the Emscripten script runs
        var Module = {
            canvas: (function() {
                var canvas = document.getElementById('canvas');
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                return canvas;
            })(),
            
            // Adjust the canvas size when the window resizes
            onRuntimeInitialized: function() {
                window.addEventListener('resize', function() {
                    Module.canvas.width = window.innerWidth;
                    Module.canvas.height = window.innerHeight;
                    if (Module.resize) {
                        Module.resize(window.innerWidth, window.innerHeight);
                    }
                });

                // Listen for keyboard input
                var hiddenInput = document.getElementById('hidden-input');
                hiddenInput.addEventListener('input', function(event) {
                    var inputValue = event.target.value;
                    if (inputValue.length > 0) {
                        // Pass key input to the application (optional handling logic)
                        console.log("Key pressed:", inputValue);
                        event.target.value = ""; // Clear the input after processing
                    }
                });
            },

	    // Listen for keydown events
            hiddenInput.addEventListener('keydown', (event) => {
		const key = event.key;
		
		if (!activeKeys.has(key)) {
                activeKeys.add(key);
                    simulateKeyEvent(key, 'keydown'); // Forward the keydown event to SDL
		}
            });
	    
            // Listen for keyup events
            hiddenInput.addEventListener('keyup', (event) => {
		const key = event.key;
		
		if (activeKeys.has(key)) {
                    activeKeys.delete(key);
                    simulateKeyEvent(key, 'keyup'); // Forward the keyup event to SDL
		}
            });
	    
            // Redirect print and printErr to the console
            print: (function() {
                return function(text) {
                    console.log(text);
                };
            })(),
            printErr: (function() {
                return function(text) {
                    console.error(text);
                };
            })()
        };</script></body></html>